/* =====================================================
   PIXEL / NEO-BRUTALIST THEME CSS - PAGINA PRODOTTO
   (Struttura Originale Intatta - Stile Rielaborato)
   ===================================================== */

/* --- Variabili Stile Globali Ripristinate --- */
:root {
    --purple: #6c21ff;
    --gold: #d8a928;
    --dark: #141218;
    --light: #ffffff;
    --pixel-border: #000000;
    --shadow-depth: 4px;
}

/* ===================================
   RESET & LAYOUT BASE
   =================================== */

/* Reset */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* Background generale in stile "spazio" */
body {
    /* Fondo nero/scuro solido o con un pattern minimalista */
    background: var(--dark);
    color: var(--light);
    min-height: 100vh;
    font-family: "Inter", sans-serif;
    /* Rimuovo il gradiente 'spazio' per look pi√π piatto/pixel */
}


/* ===================================
   BOTTONE TORNA ALLA HOME
   =================================== */

/* Bottone torna alla home */
.back-to-home-btn {
    position: absolute;
    top: 12%; /* Posizione fissa o assoluta pi√π in alto */
    left: 11.7%; /* Adatta la posizione per non sovrapporsi */
    z-index: 1000;
    background: var(--purple); /* Sfondo Viola Solido */
    color: var(--light);
    border: 3px solid var(--pixel-border);
    padding: 10px 20px;
    border-radius: 0; /* Squadrato */
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: var(--shadow-depth) var(--shadow-depth) 0 var(--pixel-border); /* Ombra hard */
    transition: all 0.1s ease; /* Transizione scattante */
    text-transform: uppercase;
}

.back-to-home-btn:hover {
    transform: translate(-2px, -2px); /* Spostamento diagonale */
    box-shadow: 6px 6px 0 var(--gold);
    background: #7e4bd1;
}


/* ===================================
   NOTIFICHE
   =================================== */

/* Notifiche */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    background: var(--dark);
    border-radius: 0;
    box-shadow: var(--shadow-depth) var(--shadow-depth) 0 var(--pixel-border);
    animation: slideIn 0.3s ease-out;
    max-width: 400px;
    border: 3px solid var(--pixel-border);
    color: var(--light);
}

.notification.success {
    border-left: 5px solid #10b981;
}

.notification.error {
    border-left: 5px solid #ff4757;
}

.notification-content {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
}

.notification-icon {
    font-size: 1.2rem;
    font-weight: bold;
}

.notification.success .notification-icon {
    color: #10b981;
}

.notification.error .notification-icon {
    color: #ff4757;
}

.notification-message {
    flex: 1;
    color: var(--light);
    font-size: 0.9rem;
}

.notification-close {
    background: none;
    border: none;
    color: #9ca3af;
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.1s;
}

.notification-close:hover {
    color: var(--gold);
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}


/* ===================================
   CARD PRODOTTO (PRODUCT PAGE)
   =================================== */

/* Card principale */
.product-page {
    max-width: 1100px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 0;
    background: #1a1720; /* Sfondo scuro e solido per il contenitore */
    box-shadow: var(--shadow-depth) var(--shadow-depth) 0 var(--pixel-border);
    border: 3px solid var(--purple);
    display: flex;
    gap: 32px;
    flex-wrap: wrap;
    font-family: "Inter", sans-serif;
    /* Aggiungo pattern di sfondo per il look retro */
  background-image: linear-gradient(#222 1px, transparent 1px),
    linear-gradient(90deg, #222 1px, transparent 1px);
  background-size: 40px 40px;
}

/* Rimuovo il glow e il gradiente: non adatti allo stile */
.product-page::before {
    content: none;
}


/* --- Colonna sinistra: immagini --- */
.product-gallery {
    /* Colonna sinistra: fissata a larghezza fissa per contenere
       immagine principale + carosello correlati */
    flex: 0 0 420px;
    max-width: 420px;
    display: flex;
    flex-direction: column;
    gap: 16px;
    /* Evita che elementi del carosello escano dalla colonna e si sovrappongano
       alla colonna destra (titoli/testo). */
    overflow: hidden;
}

.product-main-image {
    width: 100%;
    border-radius: 0;
    overflow: hidden;
    border: 3px solid var(--gold);
    box-shadow: var(--shadow-depth) var(--shadow-depth) 0 var(--pixel-border);
    image-rendering: pixelated; /* Se l'immagine √® adatta */
}

.product-main-image img {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
}

.product-thumbs {
    display: flex;
    gap: 10px;
}

.product-thumb {
    flex: 1;
    border-radius: 0;
    overflow: hidden;
    border: 2px solid #555;
    cursor: pointer;
    padding: 0;
    background: var(--dark);
    transition: all 0.1s;
}

.product-thumb img {
    width: 100%;
    height: 70px;
    object-fit: cover;
    display: block;
    opacity: 1;
    image-rendering: pixelated;
}

.product-thumb:hover {
    border-color: var(--purple);
    transform: translate(-1px, -1px);
    box-shadow: 2px 2px 0 var(--gold);
}


/* --- Colonna destra: info --- */
.product-info {
    /* Colonna destra: flessibile, occupa lo spazio rimanente */
    flex: 1 1 0;
    min-width: 320px;
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.product-category {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--purple);
    font-weight: 700;
    font-family: monospace;
}

.product-title {
    color: var(--gold);
    font-size: 2.2rem;
    font-weight: 900;
    margin-top: 4px;
    text-transform: uppercase;
    text-shadow: 2px 2px 0 var(--pixel-border);
    font-family: "Cinzel", serif;
}

.product-subtitle {
    font-size: 1rem;
    color: #9ca3af;
    margin-top: 4px;
}

.product-rating {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    color: var(--light);
}

.stars {
    color: var(--gold);
    font-size: 1.1rem;
}

/* Prezzo */
.product-page .product-price-row {
    display: flex;
    align-items: baseline;
    gap: 15px;
    margin-top: 8px;
    border-bottom: 2px solid var(--purple);
    padding-bottom: 15px;
}

.product-page .product-price {
    font-size: 2rem;
    font-weight: 900;
    color: var(--gold);
    font-family: monospace;
    text-shadow: 1px 1px 0 var(--pixel-border);
}

.product-page .product-old-price {
    font-size: 1.2rem;
    color: #ff4757 !important; /* Rosso Hard */
    text-decoration: line-through !important;
    font-weight: 500;
    opacity: 1;
}

/* Badge */
.product-page .product-badge-wrapper {
    margin-top: 6px;
}

.product-page .product-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    background: var(--dark);
    color: var(--light);
    padding: 4px 10px;
    border-radius: 0;
    border: 2px solid var(--purple);
    box-shadow: 2px 2px 0 var(--pixel-border);
}

/* todo: Badge specifico per prodotti in offerta */
.product-page .product-badge[data-discount="true"] {
    background: #10b981 !important; /* Verde solido */
    color: var(--dark) !important;
    border: 2px solid var(--gold) !important;
    box-shadow: 2px 2px 0 var(--pixel-border);
}

.product-short-desc {
    font-size: 0.95rem;
    color: #d1d5db;
    line-height: 1.6;
}

/* Opzioni */
.product-options {
    display: flex;
    flex-direction: column;
    gap: 16px;
    border-top: 2px solid var(--purple);
    padding-top: 15px;
}

.option-group-label {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--light);
    margin-bottom: 6px;
    text-transform: uppercase;
}

.size-options {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.size-pill {
    min-width: 60px;
    text-align: center;
    padding: 6px 12px;
    border-radius: 0;
    border: 2px solid var(--purple);
    font-size: 0.85rem;
    color: var(--light);
    background: var(--dark);
    cursor: pointer;
    transition: all 0.1s;
    box-shadow: 2px 2px 0 var(--pixel-border);
}

.size-pill:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 var(--gold);
}

.size-pill.selected {
    background: var(--gold); /* Oro solido */
    color: var(--dark);
    border-color: var(--pixel-border);
    transform: translate(1px, 1px);
    box-shadow: 0 0 0;
    font-weight: 700;
}


/* Azioni */
.product-actions {
    display: flex;
    flex-direction: column;
    gap: 15px;
    border-top: 2px solid var(--purple);
    padding-top: 15px;
}

.product-quantity-row {
    display: flex;
    align-items: center;
    gap: 15px;
}

.qty-label {
    font-size: 0.9rem;
    color: var(--light);
    font-weight: 600;
    text-transform: uppercase;
}

.qty-input {
    width: 80px;
    padding: 8px 10px;
    border-radius: 0;
    border: 2px solid var(--purple);
    font-size: 0.9rem;
    background: var(--dark);
    color: var(--gold);
    font-family: monospace;
    box-shadow: 2px 2px 0 var(--pixel-border);
}

.add-to-cart-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    border-radius: 0;
    border: 3px solid var(--pixel-border);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    background: var(--gold); /* Oro solido */
    color: var(--dark);
    box-shadow: var(--shadow-depth) var(--shadow-depth) 0 var(--pixel-border);
    transition: all 0.1s;
    text-transform: uppercase;
    font-family: "Cinzel", serif;
}

.add-to-cart-btn:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 var(--purple);
    filter: brightness(1.1);
}

.add-to-cart-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 0 0 0;
}

.stock-status {
    font-size: 0.85rem;
    color: #4ade80;
    font-weight: 700;
}

.extra-info {
    font-size: 0.8rem;
    color: #9ca3af;
}


/* Tabs */
.product-tabs {
    margin-top: 20px;
    border-top: 2px solid var(--gold);
    padding-top: 14px;
}

.tab-buttons {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
}

.tab-btn {
    padding: 8px 16px;
    border-radius: 0;
    border: 2px solid var(--purple);
    background-color: var(--dark);
    cursor: pointer;
    font-size: 0.9rem;
    color: var(--light);
    transition: all 0.1s;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 var(--pixel-border);
}

.tab-btn:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 var(--gold);
}

.tab-btn.active {
    background: var(--gold);
    color: var(--dark);
    border-color: var(--pixel-border);
    box-shadow: 1px 1px 0 var(--pixel-border);
    transform: none;
    font-weight: 700;
}

.tab-content {
    font-size: 0.9rem;
    color: #d1d5db;
    line-height: 1.6;
}

.specs-list {
    list-style: none;
    margin-top: 6px;
}

.specs-list li {
    margin-bottom: 6px;
    padding-left: 10px;
    border-left: 2px solid var(--purple); /* Aggiungo un decoratore */
}

.spec-label {
    font-weight: 700;
    color: var(--gold);
}


/* ===========================
   üî• QUANTITY BUTTON NEW STYLE
   =========================== */

.qty-wrapper {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Contenitore quantit√† */
.qty-display {
    width: 48px;
    height: 38px;
    background: var(--dark);
    border: 2px solid var(--gold);
    border-radius: 0;
    color: var(--gold);
    font-weight: 900;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
    position: relative;
    overflow: hidden;
    box-shadow: 2px 2px 0 var(--pixel-border);
    font-family: monospace;
}

/* Animazione del numero (Mantenuta) */
.qty-display span {
    display: block;
    transition: transform 0.25s ease;
}

.qty-display.increment span {
    transform: translateY(-8px);
    opacity: 0;
}

.qty-display.decrement span {
    transform: translateY(8px);
    opacity: 0;
}

/* Pulsanti quantit√† */
.qty-btn {
    width: 38px;
    height: 38px;
    border-radius: 0;
    border: 2px solid var(--pixel-border);
    background: var(--purple); /* Viola solido */
    color: var(--light);
    font-size: 1.1rem;
    cursor: pointer;
    font-weight: 900;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.1s ease, box-shadow 0.1s ease;
    box-shadow: 3px 3px 0 var(--pixel-border);
}

.qty-btn:hover {
    background: #7e4bd1;
    box-shadow: 4px 4px 0 var(--gold);
    transform: translate(-1px, -1px);
}

.qty-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 0 0 0;
}

/* Versione disabilitata */
.qty-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: 2px 2px 0 var(--pixel-border);
}


/* ===================================
   DEBUG/UTILITY (Mantenute con stile)
   =================================== */

.container {
    display: flex;
    gap: 20px;
}

.cointainer_info {
    display: flex;
    align-items: center;
}

.title-info {
    display: flex;
    align-items: flex-start;
    text-align: start;
    flex-direction: column;
}

.title-info .product-category {
    color: var(--purple);
    font-size: 16px;
}

.related-cards-list {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 10px 6px;
    width: 100%;
    /* Carousel behavior: horizontal scroll when overflow */
    overflow-x: auto;
    scroll-behavior: smooth;
    /* mobile smoothness hint removed for compatibility */
    flex-wrap: nowrap;
}

.related-section-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

/* Carousel-specific styling when placed under the main image */
.carousel-under-image .related-section-wrapper {
    align-items: stretch;
    width: 100%;
}

.carousel-under-image .related-carousel-row {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center; /* centra il carosello sotto il titolo */
}

.carousel-list {
    display: flex;
    gap: 8px; /* gap ulteriormente ridotto per pi√π densit√† */
    padding: 12px 6px;
    overflow-x: auto;
    /* Manteniamo lo snap per un'esperienza di scorrimento fluida */
    scroll-snap-type: x mandatory;
    scroll-padding-left: 6px; /* evita che il primo elemento tocchi il bordo */
    align-items: center; /* centra verticalmente le card nel carosello */
}

/* Assicura che il carosello sia centrato rispetto al titolo/testo
   e che non si allarghi oltre la colonna sinistra */
.carousel-under-image .carousel-list {
    margin: 0 auto;
    width: 100%;
    max-width: calc(100% - 182px);
}

/* Mostra esattamente 2 elementi visibili nel viewport del carosello */
.carousel-list > * {
    scroll-snap-align: center; /* snap al centro per mettere la card visibile al centro */
    /* Variante compatta precedente: mostra pi√π card (due visibili) usando
       percentuali. Questa √® la versione precedente alle ultime modifiche. */
    flex: 0 0 40%;
    max-width: 40%;
    box-sizing: border-box;
}

/* Scroll buttons styling (small, unobtrusive near carousel) */
.carousel-under-image .scroll-btn {
    background: var(--dark);
    color: var(--light);
    border: 2px solid var(--pixel-border);
    padding: 8px 10px;
    cursor: pointer;
    box-shadow: 3px 3px 0 var(--pixel-border);
}

.carousel-under-image .scroll-btn:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 var(--gold);
}

.related-section-wrapper .section-title {
    text-align: center;
    margin-bottom: 20px;
    /* Aggiungo stile al titolo (se esiste nel markup) */
    font-size: 24px;
    color: var(--gold);
    text-transform: uppercase;
    font-weight: 700;
}

@media (max-width: 768px) {
    .product-page {
        margin: 20px 12px;
        padding: 18px;
    }

    .product-title {
        font-size: 1.8rem;
    }
}

/* Stacking responsivo: sotto questa larghezza le colonne diventano blocchi */
@media (max-width: 920px) {
    .product-page {
        flex-direction: column;
        gap: 20px;
        align-items: stretch;
    }

    .product-gallery,
    .product-info {
        flex: 1 1 100%;
        max-width: 100%;
    }

    /* Rendiamo i pulsanti del carosello meno invadenti su mobile */
    .carousel-under-image .scroll-btn {
        display: none;
    }
}